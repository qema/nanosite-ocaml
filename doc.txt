Directory structure:
  site/
    meta.md: Global settings for site. Passed as part of context in templating.
    pages/
      [First Category]/
        [page1.md]
	..
      [Second Category]/
        [second.md]
        ..
      ..
    posts/
      [hello.md]
      [cats.md]
      ..
    templates/
      main-template.html: Template to be applied to every page
      front-template.html: Template for front page
      page-template.html: Template for each "page" (static content)
      post-template.html: Template for each "post" (time-sorted content)
      archive-template.html: Template for main archive page
      archive-entry-template.html: Template for each page within the archive
    output/
      [files generated by nanosite]

Site generation:
  1. Process posts
     - Convert each post in posts/ from Markdown to HTML
     - Store each post's generated HTML in a dict in global context
  2. Process pages
     - Convert each page in pages/ (and subdirs) from Markdown to HTML
     - Store each page's generated HTML in a dict in global context

     At this point the global context contains:
       - attribs from meta.md
       - all posts
       - all pages

  3. Build posts
     - Use archive-entry-template and main-template to create archive entry
         page out of post
       - Store this in output/posts/
  4. Build pages
     - Use page-template and main-template to create finished page
       - Store this in output/pages/ in corresponding subdir
  5. Build main archive page with archive-template, store in output/archive.html
  6. Build front page with front-template, store in output/index.html

Template syntax:

Use {{ }} to surround OCaml expressions that will produce strings
  to append to the page.
Use {% %} to surround OCaml code that will be literally appended to the template
  before evaluation.
  
<html>
  <head></head>
  <body>
    <p>{{ if Sys.os_type = "Unix" then "Hello Unix!" else "Hello World!" }}</p>
    <ul>
      {% List.iter (fun s -> %}
	<li>{{s}}</li>
      {% ) ["hello"; "from"; "list"]; %}
    </ul>
  </body>
</html>
